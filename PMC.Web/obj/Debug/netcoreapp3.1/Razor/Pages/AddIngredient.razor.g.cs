#pragma checksum "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "bce41c206bee3bf3939d378fb16fdf7f761767ab"
// <auto-generated/>
#pragma warning disable 1591
namespace PMC.Web.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\Debora\source\repos\PMC\PMC.Web\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Debora\source\repos\PMC\PMC.Web\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Debora\source\repos\PMC\PMC.Web\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Debora\source\repos\PMC\PMC.Web\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Debora\source\repos\PMC\PMC.Web\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Debora\source\repos\PMC\PMC.Web\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Debora\source\repos\PMC\PMC.Web\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Debora\source\repos\PMC\PMC.Web\_Imports.razor"
using PMC.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Debora\source\repos\PMC\PMC.Web\_Imports.razor"
using PMC.Web.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
using PMC.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
using PMC.DataModel;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
using PMC.Web.Data;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/addingredient")]
    public partial class AddIngredient : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
#nullable restore
#line 11 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
 if (SelectedRecipeService.RecipeID > 0)
{


#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(0, "    \r\n    ");
            __builder.AddMarkupContent(1, "<h5>Add Ingredients</h5>\r\n    ");
            __builder.OpenElement(2, "table");
            __builder.AddAttribute(3, "width", "50%");
            __builder.AddMarkupContent(4, "\r\n        ");
            __builder.AddMarkupContent(5, "<tr>\r\n            <th width=\"10px\"></th>\r\n            <th>Enter an ingredient name and click the Search button to select an ingredient.</th>\r\n        </tr>\r\n        ");
            __builder.OpenElement(6, "tr");
            __builder.AddMarkupContent(7, "\r\n            <td style=\"font-weight:bold;\" align=\"right\"></td>\r\n            ");
            __builder.OpenElement(8, "td");
            __builder.AddAttribute(9, "style", "padding:0;");
            __builder.AddMarkupContent(10, "\r\n                ");
            __builder.OpenElement(11, "input");
            __builder.AddAttribute(12, "id", "txtIngredientSearch");
            __builder.AddAttribute(13, "tabindex", "1");
            __builder.AddAttribute(14, "type", "text");
            __builder.AddAttribute(15, "style", "width:500px; background-color:rgb(255, 249, 132)");
            __builder.AddAttribute(16, "placeholder", "Enter up to four keywords to search");
            __builder.AddAttribute(17, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 24 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                                                                     ingrSearch

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(18, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => ingrSearch = __value, ingrSearch));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(19, "\r\n                ");
            __builder.OpenElement(20, "input");
            __builder.AddAttribute(21, "id", "btnSearchIngredients");
            __builder.AddAttribute(22, "tabindex", "2");
            __builder.AddAttribute(23, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 25 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                                                                         SearchIngredients

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(24, "type", "button");
            __builder.AddAttribute(25, "value", "Search");
            __builder.CloseElement();
            __builder.AddMarkupContent(26, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(27, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(28, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(29, "\r\n    \r\n");
#nullable restore
#line 31 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
     if (ingredientSearchCount > 0)
    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(30, "        ");
            __builder.OpenElement(31, "table");
            __builder.AddMarkupContent(32, "\r\n            ");
            __builder.OpenElement(33, "tr");
            __builder.AddMarkupContent(34, "\r\n                <td></td>\r\n                ");
            __builder.OpenElement(35, "td");
            __builder.AddAttribute(36, "style", "padding:0;");
            __builder.AddMarkupContent(37, "\r\n");
#nullable restore
#line 37 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                     if (SelectedIngredientService.IngredientID == 0)
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(38, "                        ");
            __builder.OpenElement(39, "select");
            __builder.AddAttribute(40, "id", "selectIngredient");
            __builder.AddAttribute(41, "tabindex", "3");
            __builder.AddAttribute(42, "style", "width:500px; overflow:scroll");
            __builder.AddAttribute(43, "size", "10");
            __builder.AddAttribute(44, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 39 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                                                                           SelectedIngredientService.IngredientID

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(45, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => SelectedIngredientService.IngredientID = __value, SelectedIngredientService.IngredientID));
            __builder.SetUpdatesAttributeName("value");
            __builder.AddMarkupContent(46, "\r\n                            ");
            __builder.OpenElement(47, "option");
            __builder.AddAttribute(48, "value", "0");
            __builder.AddContent(49, "Please select from the ingredients matching ");
            __builder.AddContent(50, 
#nullable restore
#line 40 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                                                                                           ingrSearch

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(51, "\r\n");
#nullable restore
#line 41 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                             foreach (var list in filteredIngredients)
                            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(52, "                                ");
            __builder.OpenElement(53, "option");
            __builder.AddAttribute(54, "value", 
#nullable restore
#line 43 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                                                list.IngredientID

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(55, "onblur", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.FocusEventArgs>(this, 
#nullable restore
#line 44 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                                                   () => { SelectedIngredientService.IngredientID = list.IngredientID; }

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(56, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 45 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                                                   listChange

#line default
#line hidden
#nullable disable
            ));
            __builder.AddMarkupContent(57, "\r\n                                    ");
            __builder.AddContent(58, 
#nullable restore
#line 46 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                                     list.IngredientName

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(59, "\r\n                                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(60, "\r\n");
#nullable restore
#line 48 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                            }

#line default
#line hidden
#nullable disable
            __builder.AddContent(61, "                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(62, "\r\n");
#nullable restore
#line 50 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(63, "                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(64, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(65, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(66, "\r\n");
#nullable restore
#line 54 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
    }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(67, "    \r\n");
#nullable restore
#line 56 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
     if (SelectedIngredientService.IngredientID > 0)
    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(68, "        ");
            __builder.OpenElement(69, "div");
            __builder.AddAttribute(70, "style", "padding-left:20px");
            __builder.OpenElement(71, "b");
            __builder.AddContent(72, 
#nullable restore
#line 58 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                                           selectedIngredientName

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(73, "\r\n        <div style=\"font-size:16px\"></div>\r\n        ");
            __builder.OpenElement(74, "table");
            __builder.AddMarkupContent(75, "\r\n            ");
            __builder.OpenElement(76, "tr");
            __builder.AddMarkupContent(77, "\r\n                ");
            __builder.AddMarkupContent(78, "<td align=\"right\" style=\" padding:0;\">Qty:</td>\r\n                ");
            __builder.OpenElement(79, "td");
            __builder.AddAttribute(80, "style", "padding:0;");
            __builder.AddMarkupContent(81, "\r\n                    ");
            __builder.OpenElement(82, "input");
            __builder.AddAttribute(83, "id", "numQty");
            __builder.AddAttribute(84, "type", "number");
            __builder.AddAttribute(85, "step", "any");
            __builder.AddAttribute(86, "min", "0.01");
            __builder.AddAttribute(87, "max", "20000");
            __builder.AddAttribute(88, "style", "width:60px; border-width: 0; background-color:rgb(255, 249, 132);");
            __builder.AddAttribute(89, "tabindex", "4");
            __builder.AddAttribute(90, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 64 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                                               ingredientQty

#line default
#line hidden
#nullable disable
            , culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.AddAttribute(91, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => ingredientQty = __value, ingredientQty, culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(92, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(93, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(94, "\r\n            ");
            __builder.OpenElement(95, "tr");
            __builder.AddMarkupContent(96, "\r\n                ");
            __builder.AddMarkupContent(97, "<td align=\"right\" style=\"padding:0\">UoM:</td>\r\n                ");
            __builder.OpenElement(98, "td");
            __builder.AddMarkupContent(99, "\r\n                    ");
            __builder.OpenElement(100, "select");
            __builder.AddAttribute(101, "name", "uomSelect");
            __builder.AddAttribute(102, "id", "selUOM");
            __builder.AddAttribute(103, "tabindex", "5");
            __builder.AddAttribute(104, "style", "border-width: 0; background-color:rgb(255, 249, 132);");
            __builder.AddAttribute(105, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 70 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                                                                 uom

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(106, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => uom = __value, uom));
            __builder.SetUpdatesAttributeName("value");
            __builder.AddMarkupContent(107, "\r\n                        ");
            __builder.OpenElement(108, "option");
            __builder.AddAttribute(109, "value", "0");
            __builder.AddContent(110, "Choose one...");
            __builder.CloseElement();
            __builder.AddMarkupContent(111, "\r\n");
#nullable restore
#line 72 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                         foreach (var list in uomList)
                        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(112, "                            ");
            __builder.OpenElement(113, "option");
            __builder.AddAttribute(114, "value", 
#nullable restore
#line 74 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                                           list.UomID

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(115, 
#nullable restore
#line 74 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                                                       list.UomDesc

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(116, "\r\n");
#nullable restore
#line 75 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.AddContent(117, "                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(118, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(119, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(120, "\r\n            ");
            __builder.OpenElement(121, "tr");
            __builder.AddMarkupContent(122, "\r\n                ");
            __builder.AddMarkupContent(123, "<td align=\"right\" style=\" padding:0\">Info:</td>\r\n                ");
            __builder.OpenElement(124, "td");
            __builder.AddMarkupContent(125, "\r\n                    ");
            __builder.OpenElement(126, "input");
            __builder.AddAttribute(127, "id", "txtIngrCondition");
            __builder.AddAttribute(128, "type", "text");
            __builder.AddAttribute(129, "tabindex", "6");
            __builder.AddAttribute(130, "style", "border-width: 0; background-color:rgb(255, 249, 132);");
            __builder.AddAttribute(131, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 82 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                                                         ingrCondition

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(132, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => ingrCondition = __value, ingrCondition));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(133, "\r\n                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(134, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(135, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(136, "\r\n");
#nullable restore
#line 86 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 86 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
     
}

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(137, "\r\n\r\n");
#nullable restore
#line 90 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
 if (ingredientQty > 0 && uom > 0 && SelectedIngredientService.IngredientID > 0)
{

#line default
#line hidden
#nullable disable
            __builder.AddContent(138, "    ");
            __builder.OpenElement(139, "table");
            __builder.AddMarkupContent(140, "\r\n        ");
            __builder.OpenElement(141, "tr");
            __builder.AddAttribute(142, "style", "font-size:14px");
            __builder.AddMarkupContent(143, "\r\n            ");
            __builder.OpenElement(144, "td");
            __builder.OpenElement(145, "input");
            __builder.AddAttribute(146, "id", "btnAddIngredient");
            __builder.AddAttribute(147, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 94 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                                                        addIngredient

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(148, "type", "button");
            __builder.AddAttribute(149, "value", "Add Ingredient");
            __builder.AddAttribute(150, "tabindex", "7");
            __builder.AddAttribute(151, "style", "font-size:14px");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(152, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(153, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(154, "\r\n");
#nullable restore
#line 97 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
}

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(155, "\r\n");
#nullable restore
#line 99 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
 if (errmsg.Length > 0)
{

#line default
#line hidden
#nullable disable
            __builder.AddContent(156, "    ");
            __builder.OpenElement(157, "div");
            __builder.AddAttribute(158, "style", "width:20px; word-wrap:break-word; background-color:lightpink; text-align:center");
            __builder.AddContent(159, 
#nullable restore
#line 101 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                                                                                                  errmsg

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(160, "\r\n");
#nullable restore
#line 102 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
}

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(161, "\r\n");
#nullable restore
#line 104 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
 if (searchUnsuccessful.Length > 0)
{

#line default
#line hidden
#nullable disable
            __builder.AddContent(162, "    ");
            __builder.OpenElement(163, "table");
            __builder.AddMarkupContent(164, "\r\n        ");
            __builder.OpenElement(165, "tr");
            __builder.AddMarkupContent(166, "\r\n            <td width=\"10%\"></td>\r\n            ");
            __builder.OpenElement(167, "td");
            __builder.AddAttribute(168, "width", "50%");
            __builder.AddAttribute(169, "align", "center");
            __builder.AddAttribute(170, "style", "background-color:lightpink");
            __builder.AddContent(171, 
#nullable restore
#line 109 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
                                                                               searchUnsuccessful

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(172, "\r\n            <td width=\"40%\"></td>\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(173, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(174, "\r\n");
#nullable restore
#line 113 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 117 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\AddIngredient.razor"
       
    [Inject]
    private RepoFactory repoFactory { get; set; }
    private int userID;

    private Recipe recipe = new Recipe();
    private List<Ingredient> filteredIngredients = new List<Ingredient>();
    private List<Ingredient> ingredients;
    private int selectedIngredientID;
    private string selectedIngredientName = "";
    private int ingredientSearchCount;
    private string searchUnsuccessful = "";
    private int recipeIngredientCount = 0;
    private int ingredientID;
    private Ingredient ingredient = new Ingredient();
    private List<RecipeIngredient> recipeIngredients;

    //user criteria for searching ingredients
    //private string ingrSearch = "Enter up to four keywords to search";
    private string ingrSearch = "";

    //private int ingredientID;
    private decimal ingredientQty;
    private int uom;
    private string ingrCondition = "";
    //private int testIngredientID;
    private List<Uom> uomList = new List<Uom>();
    private bool onclickMe = false;
    private string errmsg = "";

    protected override async Task OnInitializedAsync()
    {
        userID = repoFactory.UserID;
        var repo = repoFactory.Get<PMC.Data.RecipeRepo>();

        recipe = repo.GetRecipeOnlyByRecipeID(SelectedRecipeService.RecipeID);

        var uomRepo = repoFactory.Get<PMC.Data.UomRepo>();
        var uomlist = uomRepo.GetUomList().ToList();
        uomList = uomlist;

        SelectedIngredientService.IngredientID = 0;

    }

    protected async void SearchIngredients()
    {
        var ingredientRepo = repoFactory.Get<PMC.Data.IngredientRepo>();
        var ingrList = ingredientRepo.SearchIngredients(ingrSearch).ToList();
        filteredIngredients = ingrList;
        ingredientSearchCount = ingrList.Count() + 2;
        searchUnsuccessful = "";
        if (ingredientSearchCount == 0)
        {
            searchUnsuccessful = "We could not find an ingredient containing the word entered, please try a different word. If you have entered a plural word like 'eggs' change it to 'egg' and try again";
        }
        StateHasChanged();
    }


    //PMC1032-02 PMC1032-03 PMC1032-04 PMC1032-05 PMC1032-08 PMC1092-05 PMC1092-06 PMC1092-42
    protected async void addIngredient()
    {
        checkIngredientInfo();
        if (ingredientQty <= 20000)
        {
            var recipeIngredientRepo = repoFactory.Get<PMC.Data.RecipeIngredientRepo>();
            var ingredientInserted = recipeIngredientRepo.InsertIngredientByRecipeID(SelectedRecipeService.RecipeID, SelectedIngredientService.IngredientID, ingrCondition, ingredientQty, uom, userID);
            var ingredientRepo = repoFactory.Get<PMC.Data.IngredientRepo>();
            var recipeRepo = repoFactory.Get<PMC.Data.RecipeRepo>();
            recipe = recipeRepo.GetRecipeOnlyByRecipeID(SelectedRecipeService.RecipeID);

            var currRecipeIngredients = recipeIngredientRepo.GetIngredientsByRecipeID(SelectedRecipeService.RecipeID);
            recipeIngredients = currRecipeIngredients.ToList();
            recipeIngredientCount = recipeIngredients.Count();

            var ingrList = recipeIngredientRepo.GetIngredientsByRecipeID(SelectedRecipeService.RecipeID);
            SelectedIngredientService.IngredientCount = ingrList.Count();

            //SelectedIngredientService.IngredientCount = recipeIngredientCount;
            SelectedIngredientService.OnChange += StateHasChanged;

            //call method that resets the fields so user can search for another ingredient
            refreshIngredientSearch();
            StateHasChanged();
            NavManager.NavigateTo(HomeURIService.homeUri + "recipeingredientlist");
            NavManager.NavigateTo(HomeURIService.homeUri + "myrecipe");
        }
    }

    //when an ingredient is selected this method is called.
    public void listChange()
    {
        errmsg = "";
        onclickMe = true;
        var repo = repoFactory.Get<PMC.Data.IngredientRepo>();
        ingredient = repo.GetIngredientByIngredientID(SelectedIngredientService.IngredientID);
        selectedIngredientName = ingredient.IngredientName;
        SelectedIngredientService.OnChange += StateHasChanged;
        StateHasChanged();
    }

    //resets the fields so user can search for another ingredient
    protected async void refreshIngredientSearch()
    {

        //ingrSearch = "Enter up to four keywords to search";
        ingredientSearchCount = 0;
        selectedIngredientName = "";
        SelectedIngredientService.IngredientID = 0;
        SelectedIngredientService.OnChange += StateHasChanged;
        ingredientQty = 0;
        uom = 0;
        ingrCondition = "";
        searchUnsuccessful = "";
        StateHasChanged();
    }

    //Checks ingredient quantity and updates 
    private void checkIngredientInfo()
    {
        if (ingredientQty > 20000)
        {
            errmsg = "The quantity cannot be greater than 20,001. Please update the quantity to a value less than 20,001.";
        }
    }


#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private HomeURIService HomeURIService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavManager { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private SelectedIngredientService SelectedIngredientService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private SelectedRecipeService SelectedRecipeService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IJSRuntime JSRuntime { get; set; }
    }
}
#pragma warning restore 1591
