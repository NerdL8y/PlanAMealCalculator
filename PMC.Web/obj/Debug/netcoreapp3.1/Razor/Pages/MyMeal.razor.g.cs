#pragma checksum "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "45379556f618bb318b42bfe09ddb9ae01b69bcad"
// <auto-generated/>
#pragma warning disable 1591
namespace PMC.Web.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "C:\Users\Debora\source\repos\PMC\PMC.Web\_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Debora\source\repos\PMC\PMC.Web\_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Debora\source\repos\PMC\PMC.Web\_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Debora\source\repos\PMC\PMC.Web\_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Debora\source\repos\PMC\PMC.Web\_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "C:\Users\Debora\source\repos\PMC\PMC.Web\_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "C:\Users\Debora\source\repos\PMC\PMC.Web\_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "C:\Users\Debora\source\repos\PMC\PMC.Web\_Imports.razor"
using PMC.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "C:\Users\Debora\source\repos\PMC\PMC.Web\_Imports.razor"
using PMC.Web.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
using PMC.Web.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
using PMC.Data;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
using PMC.DataModel;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
using Microsoft.AspNetCore.WebUtilities;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/mymeal")]
    public partial class MyMeal : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "align", "right");
            __builder.AddMarkupContent(2, "\r\n    ");
            __builder.OpenElement(3, "button");
            __builder.AddAttribute(4, "style", " font-size:14px; background-color:white; border-width:0px; border-color:white");
            __builder.AddAttribute(5, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 12 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                                                                                             OpenModal

#line default
#line hidden
#nullable disable
            ));
            __builder.AddContent(6, "Help");
            __builder.CloseElement();
            __builder.AddMarkupContent(7, "\r\n    ");
            __builder.OpenElement(8, "div");
            __builder.AddAttribute(9, "align", "left");
            __builder.AddMarkupContent(10, "\r\n        ");
            __builder.OpenComponent<PMC.Web.Pages.BlazorModal>(11);
            __builder.AddAttribute(12, "Title", "Meal Details");
            __builder.AddAttribute(13, "IsOpened", Microsoft.AspNetCore.Components.CompilerServices.RuntimeHelpers.TypeCheck<System.Boolean>(
#nullable restore
#line 14 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                                    isOpened

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(14, "ModalBody", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(15, "\r\n                ");
                __builder2.AddMarkupContent(16, "<div>Your meal\'s components are listed below.  They are grouped by the </div>\r\n                ");
                __builder2.AddMarkupContent(17, "<div>Click on a meal name to view the details of the meal.</div>\r\n                ");
                __builder2.AddMarkupContent(18, "<div style=\"padding-left:10px\">Once you have selected a meal, you will be able to select <b>My Meal Prep Timeline</b> to view the preparation timeline details.</div>\r\n            ");
            }
            ));
            __builder.AddAttribute(19, "ModalFooter", (Microsoft.AspNetCore.Components.RenderFragment)((__builder2) => {
                __builder2.AddMarkupContent(20, "\r\n            ");
            }
            ));
            __builder.CloseComponent();
            __builder.AddMarkupContent(21, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(22, "\r\n");
            __builder.CloseElement();
            __builder.AddMarkupContent(23, "\r\n\r\n\r\n");
            __builder.OpenElement(24, "h3");
            __builder.AddMarkupContent(25, "\r\n    ");
            __builder.OpenElement(26, "input");
            __builder.AddAttribute(27, "id", "strNewMealName");
            __builder.AddAttribute(28, "style", "border-width: 0; background-color: rgb(233, 238, 252); width:500px");
            __builder.AddAttribute(29, "type", "text");
            __builder.AddAttribute(30, "onblur", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.FocusEventArgs>(this, 
#nullable restore
#line 30 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                     changeMade

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(31, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 29 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                   currentMealName

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(32, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => currentMealName = __value, currentMealName));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(33, "\r\n");
            __builder.CloseElement();
            __builder.AddMarkupContent(34, "\r\n\r\n");
#nullable restore
#line 33 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
 if (SelectedMealService.MealID == 0)
{

#line default
#line hidden
#nullable disable
            __builder.AddContent(35, "    ");
            __builder.AddMarkupContent(36, "<p><em>A meal has not been selected.  Select My Meal List in the Navigation area, you must select a Meal from there first.  </em></p>\r\n");
#nullable restore
#line 36 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
}

#line default
#line hidden
#nullable disable
#nullable restore
#line 37 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
 if (SelectedMealService.MealID > 0)
{

#line default
#line hidden
#nullable disable
            __builder.AddContent(37, "    ");
            __builder.OpenElement(38, "table");
            __builder.AddAttribute(39, "style", "font-size:16px");
            __builder.AddMarkupContent(40, "\r\n        ");
            __builder.AddMarkupContent(41, @"<tr>
            <th width=""10%"">Meal Date</th>
            <th width=""10%"">Serve Time</th>
            <th width=""5%"">Guests</th>
            <th width=""10%"">Type</th>
            <th width=""10%"">Num Preparers</th>
            <th width=""40%"">Start Time</th>
        </tr>
        ");
            __builder.OpenElement(42, "tr");
            __builder.AddMarkupContent(43, "\r\n            ");
            __builder.OpenElement(44, "td");
            __builder.AddAttribute(45, "width", "10%");
            __builder.AddMarkupContent(46, "\r\n                ");
            __builder.OpenElement(47, "input");
            __builder.AddAttribute(48, "id", "dateNewMealDate");
            __builder.AddAttribute(49, "style", "border-width: 0; background-color: rgb(233, 238, 252);");
            __builder.AddAttribute(50, "type", "date");
            __builder.AddAttribute(51, "onblur", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.FocusEventArgs>(this, 
#nullable restore
#line 52 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                 changeMade

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(52, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 51 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                               currentMealDate

#line default
#line hidden
#nullable disable
            , format: "yyyy-MM-dd", culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.AddAttribute(53, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => currentMealDate = __value, currentMealDate, format: "yyyy-MM-dd", culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(54, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(55, "\r\n            ");
            __builder.OpenElement(56, "td");
            __builder.AddAttribute(57, "width", "10%");
            __builder.AddContent(58, 
#nullable restore
#line 54 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                             mymeal.ServeTime.ToShortTimeString()

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(59, "\r\n            ");
            __builder.OpenElement(60, "td");
            __builder.AddAttribute(61, "width", "5%");
            __builder.AddMarkupContent(62, "\r\n                ");
            __builder.OpenElement(63, "input");
            __builder.AddAttribute(64, "name", "numNumberGuests");
            __builder.AddAttribute(65, "type", "number");
            __builder.AddAttribute(66, "style", "width:35px; border-width: 0; background-color: rgb(233, 238, 252);");
            __builder.AddAttribute(67, "min", "1");
            __builder.AddAttribute(68, "max", "20000");
            __builder.AddAttribute(69, "onblur", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.FocusEventArgs>(this, 
#nullable restore
#line 58 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                 changeMade

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(70, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 57 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                               currentNumGuests

#line default
#line hidden
#nullable disable
            , culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.AddAttribute(71, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => currentNumGuests = __value, currentNumGuests, culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(72, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(73, "\r\n            ");
            __builder.OpenElement(74, "td");
            __builder.AddAttribute(75, "width", "10%");
            __builder.AddContent(76, 
#nullable restore
#line 60 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                             mymeal.MealTypeDesc

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(77, "\r\n            ");
            __builder.OpenElement(78, "td");
            __builder.AddAttribute(79, "width", "10%");
            __builder.AddMarkupContent(80, "\r\n                ");
            __builder.OpenElement(81, "input");
            __builder.AddAttribute(82, "name", "numNumberPreparers");
            __builder.AddAttribute(83, "type", "number");
            __builder.AddAttribute(84, "style", "width:35px; border-width: 0; background-color: rgb(233, 238, 252);");
            __builder.AddAttribute(85, "min", "1");
            __builder.AddAttribute(86, "max", "20000");
            __builder.AddAttribute(87, "onblur", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.FocusEventArgs>(this, 
#nullable restore
#line 64 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                 changeMade

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(88, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 63 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                               currentNumPreparers

#line default
#line hidden
#nullable disable
            , culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.AddAttribute(89, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => currentNumPreparers = __value, currentNumPreparers, culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(90, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(91, "\r\n            ");
            __builder.OpenElement(92, "td");
            __builder.AddAttribute(93, "width", "40%");
            __builder.AddContent(94, 
#nullable restore
#line 66 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                             mymeal.MealStartPrepNLT.ToString("MMM dd @ hh:mm")

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(95, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(96, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(97, "\r\n    ");
            __builder.OpenElement(98, "div");
            __builder.AddMarkupContent(99, "\r\n");
#nullable restore
#line 70 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
         if (changesMade == true)
        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(100, "            ");
            __builder.OpenElement(101, "input");
            __builder.AddAttribute(102, "type", "button");
            __builder.AddAttribute(103, "value", "Save Changes");
            __builder.AddAttribute(104, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 72 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                                                 saveMealChanges

#line default
#line hidden
#nullable disable
            ));
            __builder.CloseElement();
            __builder.AddMarkupContent(105, "\r\n");
#nullable restore
#line 73 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
        }

#line default
#line hidden
#nullable disable
            __builder.AddContent(106, "    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(107, "\r\n    <hr>\r\n");
#nullable restore
#line 76 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
     if (mealComponentCount == 0)
    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(108, "        ");
            __builder.OpenElement(109, "div");
            __builder.AddContent(110, "Components have not yet been selected for ");
            __builder.AddContent(111, 
#nullable restore
#line 78 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                                        currentMealName

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(112, ".");
            __builder.CloseElement();
            __builder.AddMarkupContent(113, "\r\n        <hr>\r\n");
#nullable restore
#line 80 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 83 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
     if (mealComponentCount > 0)
    {

        

#line default
#line hidden
#nullable disable
#nullable restore
#line 86 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
         foreach (var clist in componentTypes)
        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(114, "            ");
            __builder.OpenElement(115, "div");
            __builder.AddAttribute(116, "style", "font-size:18px");
            __builder.OpenElement(117, "b");
            __builder.AddContent(118, 
#nullable restore
#line 88 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                            clist.CompTypeDesc

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(119, "\r\n");
#nullable restore
#line 89 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
             foreach (var list in currentMealComponents)
            {
                
                if (clist.CompTypeID == list.CompTypeID)
                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(120, "                    ");
            __builder.OpenElement(121, "div");
            __builder.AddAttribute(122, "style", "padding-left:20px; font-size:16px");
            __builder.AddContent(123, 
#nullable restore
#line 94 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                                                    list.CompName

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(124, " ");
            __builder.AddContent(125, 
#nullable restore
#line 94 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                                                                   list.CompServeDateTime.ToString(" @ hh:mm")

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddMarkupContent(126, "\r\n");
#nullable restore
#line 96 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                     foreach (var rList in recipes)
                    {
                        var pia = "";
                        if (rList.PrepInAdvanceHours > 0)
                        {
                            pia = "(" + rList.PrepInAdvanceHours + " prep in advance)";
                        }
                        if (rList.CompID == list._mcCompID)
                        {

#line default
#line hidden
#nullable disable
            __builder.AddContent(127, "                            ");
            __builder.OpenElement(128, "div");
            __builder.AddAttribute(129, "style", "padding-left:40px; font-size:14px");
            __builder.OpenElement(130, "em");
            __builder.AddContent(131, 
#nullable restore
#line 105 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                                                                rList.RcpName

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
            __builder.AddContent(132, " ");
            __builder.AddContent(133, 
#nullable restore
#line 105 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                                                                                    pia

#line default
#line hidden
#nullable disable
            );
            __builder.AddContent(134, " ");
            __builder.CloseElement();
            __builder.AddMarkupContent(135, "\r\n");
#nullable restore
#line 106 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                        }
                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 107 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                     
                }
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 109 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
             
        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 110 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
         
    }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(136, "    <hr>\r\n");
            __builder.AddContent(137, "    ");
            __builder.AddMarkupContent(138, "<table width=\"1200px\">\r\n    </table>\r\n    \r\n    ");
            __builder.AddMarkupContent(139, "<div style=\"padding-bottom:0px\">To add a component, make a selection from the Component list below and enter the desired serving time.</div>\r\n    ");
            __builder.OpenElement(140, "table");
            __builder.AddMarkupContent(141, "\r\n        ");
            __builder.OpenElement(142, "tr");
            __builder.AddMarkupContent(143, "\r\n            ");
            __builder.OpenElement(144, "td");
            __builder.AddMarkupContent(145, "\r\n                ");
            __builder.OpenElement(146, "select");
            __builder.AddAttribute(147, "aria-hidden", "true");
            __builder.AddAttribute(148, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 121 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                SelectedComponentService.ComponentID

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(149, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => SelectedComponentService.ComponentID = __value, SelectedComponentService.ComponentID));
            __builder.SetUpdatesAttributeName("value");
            __builder.AddMarkupContent(150, "\r\n");
#nullable restore
#line 122 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                     foreach (var ctlist in componentTypes)
                    {

#line default
#line hidden
#nullable disable
            __builder.AddContent(151, "                        ");
            __builder.OpenElement(152, "optgroup");
            __builder.AddAttribute(153, "label", 
#nullable restore
#line 124 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                          ctlist.CompTypeDesc

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(154, "style", "background-color: rgb(255, 249, 132);");
            __builder.AddMarkupContent(155, "\r\n");
#nullable restore
#line 125 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                             foreach (var list in components)
                            {
                                if (list._cCompType == ctlist.CompTypeID)
                                {

#line default
#line hidden
#nullable disable
            __builder.AddContent(156, "                                    ");
            __builder.OpenElement(157, "option");
            __builder.AddAttribute(158, "class", "link");
            __builder.AddAttribute(159, "style", "width:100%; height:10px; padding-bottom:1px; padding-top:1px; background-color:white");
            __builder.AddAttribute(160, "value", 
#nullable restore
#line 130 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                                    list.CompID

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(161, "onmouseover", "this.style.color=\'#5440CC\'");
            __builder.AddAttribute(162, "onmouseout", "this.style.color=\'#000000\'");
            __builder.AddMarkupContent(163, "\r\n                                        ");
            __builder.AddContent(164, 
#nullable restore
#line 131 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                         list.CompName

#line default
#line hidden
#nullable disable
            );
            __builder.AddMarkupContent(165, " \r\n                                    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(166, "\r\n");
#nullable restore
#line 133 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                }
                            }

#line default
#line hidden
#nullable disable
            __builder.AddContent(167, "                        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(168, "\r\n");
#nullable restore
#line 136 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.AddContent(169, "                ");
            __builder.CloseElement();
            __builder.AddMarkupContent(170, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(171, "\r\n            ");
            __builder.OpenElement(172, "td");
            __builder.AddMarkupContent(173, "\r\n                Serving Time:\r\n                ");
            __builder.OpenElement(174, "input");
            __builder.AddAttribute(175, "type", "time");
            __builder.AddAttribute(176, "value", Microsoft.AspNetCore.Components.BindConverter.FormatValue(
#nullable restore
#line 141 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                                 tempTime

#line default
#line hidden
#nullable disable
            , format: "HH:mm:ss", culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.AddAttribute(177, "onchange", Microsoft.AspNetCore.Components.EventCallback.Factory.CreateBinder(this, __value => tempTime = __value, tempTime, format: "HH:mm:ss", culture: global::System.Globalization.CultureInfo.InvariantCulture));
            __builder.SetUpdatesAttributeName("value");
            __builder.CloseElement();
            __builder.AddMarkupContent(178, "\r\n            ");
            __builder.CloseElement();
            __builder.AddMarkupContent(179, "\r\n");
#nullable restore
#line 143 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
             if (SelectedComponentService.ComponentID != 0)
            {

#line default
#line hidden
#nullable disable
            __builder.AddContent(180, "                ");
            __builder.OpenElement(181, "td");
            __builder.OpenElement(182, "input");
            __builder.AddAttribute(183, "id", "btnAddComponent");
            __builder.AddAttribute(184, "onclick", Microsoft.AspNetCore.Components.EventCallback.Factory.Create<Microsoft.AspNetCore.Components.Web.MouseEventArgs>(this, 
#nullable restore
#line 145 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
                                                           AddComponentToMeal

#line default
#line hidden
#nullable disable
            ));
            __builder.AddAttribute(185, "type", "button");
            __builder.AddAttribute(186, "value", "Add Component");
            __builder.AddAttribute(187, "style", "font-size:10px");
            __builder.CloseElement();
            __builder.CloseElement();
            __builder.AddMarkupContent(188, "\r\n");
#nullable restore
#line 146 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
            }

#line default
#line hidden
#nullable disable
            __builder.AddMarkupContent(189, "\r\n        ");
            __builder.CloseElement();
            __builder.AddMarkupContent(190, "\r\n    ");
            __builder.CloseElement();
            __builder.AddMarkupContent(191, "\r\n");
#nullable restore
#line 150 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"

}

#line default
#line hidden
#nullable disable
        }
        #pragma warning restore 1998
#nullable restore
#line 156 "C:\Users\Debora\source\repos\PMC\PMC.Web\Pages\MyMeal.razor"
       

    [Inject]
    private RepoFactory repoFactory { get; set; }
    private int userID;
    private int mealID;
    private int currCompID = 0;
    private int currentNumGuests;
    private int currentNumPreparers;
    private int newNumGuests;
    private int newNumPreparers;
    private int mealComponentCount = 0;
    private int componentCount = 0;

    private Meal mymeal = new Meal();

    private List<Component> components = new List<Component>();
    private List<ComponentType> componentTypes = new List<ComponentType>();
    private List<MealComponent> currentMealComponents = new List<MealComponent>();
    private List<Recipe> recipes = new List<Recipe>();

    public string MealName { get; set; }
    public string MealTypeDesc { get; set; }

    private string currentMealName = "";
    private string newMealName = "";

    private DateTime dateCompiled;
    private DateTime tempTime = new DateTime(01, 01, 01, 13, 00, 00);
    private DateTime mealServeTime;
    private DateTime startMealPrepNLT;
    private DateTime currentMealDate;
    private DateTime newMealDate;

    private bool changesMade = false;


    //PMC1092-31
    protected override async Task OnInitializedAsync()
    {
        userID = repoFactory.UserID;
        SelectedComponentService.ComponentID = 0;

        if (SelectedMealService.MealID != 0)
        {
            var repo = repoFactory.Get<PMC.Data.MealRepo>();
            mymeal = repo.GetMealByMealID(SelectedMealService.MealID);
            currentMealName = mymeal.MealName;
            currentMealDate = new DateTime(mymeal.MealDate.Year, mymeal.MealDate.Month, mymeal.MealDate.Day, mymeal.ServeTime.Hour, mymeal.ServeTime.Minute, 0);
            currentNumGuests = mymeal.MealGuests;
            currentNumPreparers = mymeal.NumPreparers;

            var repoCR = repoFactory.Get<PMC.Data.MealComponentRepo>();
            var currMealComps = repoCR.GetMealComponentsByMealID(mymeal.MealID).ToList();
            currentMealComponents = currMealComps;
            mealComponentCount = currMealComps.Count();
            
            var compRepo = repoFactory.Get<PMC.Data.ComponentRepo>();
            components = compRepo.GetComponentsByUserID(userID).ToList();
            componentCount = components.Count + 2;

            var ctRepo = repoFactory.Get<PMC.Data.ComponentTypeRepo>();
            componentTypes = ctRepo.GetComponentTypes().ToList();

            var repoRecipe = repoFactory.Get<PMC.Data.RecipeRepo>();
            recipes = repoRecipe.GetRecipesByMealID(SelectedMealService.MealID).ToList();

        }

    }

    private void changeMade()
    {
        changesMade = true;
    }

    //PMC1092-18
    private void saveMealChanges()
    {
        var repo = repoFactory.Get<PMC.Data.MealRepo>();
        repo.SetMealName(SelectedMealService.MealID, currentMealName);
        repo.SetMealDate(SelectedMealService.MealID, currentMealDate);
        repo.SetMealNumberOfGuests(SelectedMealService.MealID, currentNumGuests);
        repo.SetMealNumberOfPreparersByMealID(SelectedMealService.MealID, currentNumPreparers);
        changesMade = false;
        StateHasChanged();
        refreshPage();
    }

    protected async void AddComponentToMeal()
    {

        SelectedComponentService.OnChange += StateHasChanged;
        dateCompiled = new DateTime(mymeal.MealDate.Year, mymeal.MealDate.Month, mymeal.MealDate.Day, tempTime.Hour, tempTime.Minute, 0);
        StateHasChanged();
        var repo = repoFactory.Get<PMC.Data.MealComponentRepo>();
        var repoList = repo.InsertMealComponentByMealIDCompID(SelectedMealService.MealID, SelectedComponentService.ComponentID, dateCompiled, userID);
        var mrepo = repoFactory.Get<PMC.Data.MealRepo>();
        mymeal = mrepo.GetMealByMealID(SelectedMealService.MealID);

        currentMealComponents = repo.GetMealComponentsByMealID(SelectedMealService.MealID).ToList();
        mealComponentCount = currentMealComponents.Count();

        RefreshComponentInfo();
        refreshPage();
        StateHasChanged();
    }

    protected async void RefreshComponentInfo()
    {
        var crepo = repoFactory.Get<PMC.Data.MealComponentRepo>();
        SelectedComponentService.ComponentID = 0;
        tempTime = new DateTime(01, 01, 01, 13, 00, 00);
        StateHasChanged();
    }


    private void refreshPage()
    {
        var repo = repoFactory.Get<PMC.Data.MealRepo>();
        mymeal = repo.GetMealByMealID(SelectedMealService.MealID);
        NavManager.NavigateTo(HomeURIService.homeUri + "empty");
        NavManager.NavigateTo(HomeURIService.homeUri + "mymeal");
    }

    protected bool isOpened = false;
    void OpenModal()
    {
        isOpened = true;

    }
    void CloseModal()
    {
        isOpened = false;
    }


#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private HomeURIService HomeURIService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private SelectedComponentService SelectedComponentService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private SelectedMealService SelectedMealService { get; set; }
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private NavigationManager NavManager { get; set; }
    }
}
#pragma warning restore 1591
